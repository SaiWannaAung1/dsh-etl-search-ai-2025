```aiignore
This is a great decision. Separating Unit Tests (fast, in-memory, no dependencies) from Integration Tests (slower, database/docker dependent) is a Clean Architecture best practice. It keeps your CI pipeline efficient.

Here is the plan to restructure your solution:
    Remove the old DshEtlSearch.Tests project.
    Create DshEtlSearch.UnitTests (for Domain & Core logic).
    Create DshEtlSearch.IntegrationTests (for Repositories, API, & External Services).

1. PowerShell Script to Restructure Tests
Run this script in your root folder. It will delete the old test project and set up the new split structure.

# Navigate to backend
Set-Location backend

# 1. Remove old single test project if it exists
if (Test-Path "DshEtlSearch.Tests") {
    dotnet sln remove DshEtlSearch.Tests/DshEtlSearch.Tests.csproj
    Remove-Item "DshEtlSearch.Tests" -Recurse -Force
    Write-Host "Removed old DshEtlSearch.Tests project." -ForegroundColor Yellow
}

# 2. Create Unit Test Project
dotnet new xunit -n DshEtlSearch.UnitTests
dotnet sln add DshEtlSearch.UnitTests/DshEtlSearch.UnitTests.csproj
# Unit tests need access to Core (Domain) and Infrastructure (Parsers logic)
dotnet add DshEtlSearch.UnitTests/DshEtlSearch.UnitTests.csproj reference DshEtlSearch.Core/DshEtlSearch.Core.csproj
dotnet add DshEtlSearch.UnitTests/DshEtlSearch.UnitTests.csproj reference DshEtlSearch.Infrastructure/DshEtlSearch.Infrastructure.csproj

# 3. Create Integration Test Project
dotnet new xunit -n DshEtlSearch.IntegrationTests
dotnet sln add DshEtlSearch.IntegrationTests/DshEtlSearch.IntegrationTests.csproj
# Integration tests need everything, including API for End-to-End tests
dotnet add DshEtlSearch.IntegrationTests/DshEtlSearch.IntegrationTests.csproj reference DshEtlSearch.Core/DshEtlSearch.Core.csproj
dotnet add DshEtlSearch.IntegrationTests/DshEtlSearch.IntegrationTests.csproj reference DshEtlSearch.Infrastructure/DshEtlSearch.Infrastructure.csproj
dotnet add DshEtlSearch.IntegrationTests/DshEtlSearch.IntegrationTests.csproj reference DshEtlSearch.Api/DshEtlSearch.Api.csproj

# 4. Install useful testing libraries
foreach ($proj in @("DshEtlSearch.UnitTests", "DshEtlSearch.IntegrationTests")) {
    dotnet add $proj/$proj.csproj package FluentAssertions
    dotnet add $proj/$proj.csproj package Moq
}
# Install WebApplicationFactory only for Integration Tests (for API testing)
dotnet add DshEtlSearch.IntegrationTests/DshEtlSearch.IntegrationTests.csproj package Microsoft.AspNetCore.Mvc.Testing

# 5. Create Folder Structures
# Unit Tests
New-Item -Path "DshEtlSearch.UnitTests/Core/Domain" -ItemType Directory -Force | Out-Null
New-Item -Path "DshEtlSearch.UnitTests/Core/Features" -ItemType Directory -Force | Out-Null
New-Item -Path "DshEtlSearch.UnitTests/Infrastructure/Parsers" -ItemType Directory -Force | Out-Null

# Integration Tests
New-Item -Path "DshEtlSearch.IntegrationTests/Infrastructure/Repositories" -ItemType Directory -Force | Out-Null
New-Item -Path "DshEtlSearch.IntegrationTests/ExternalServices" -ItemType Directory -Force | Out-Null
New-Item -Path "DshEtlSearch.IntegrationTests/Api" -ItemType Directory -Force | Out-Null

Write-Host "Successfully restructured into UnitTests and IntegrationTests!" -ForegroundColor Green
2. New File Structure Definition
Here is the clean separation of concerns for your testing projects.

A. DshEtlSearch.UnitTests
Focus: Logic, Calculations, Transformations. Mocks everything external.

DshEtlSearch.UnitTests/
├── Core/
│   ├── Domain/
│   │   ├── DatasetTests.cs              (Task 1.1)
│   │   ├── MetadataRecordTests.cs       (Task 1.1)
│   │   └── ResultTests.cs               (Task 1.1)
│   │
│   └── Features/
│       ├── EtlOrchestratorTests.cs      (Mocking Downloader/Repo)
│       └── SearchServiceTests.cs        (Mocking VectorStore)
│
└── Infrastructure/
    └── Parsers/
        ├── IsoXmlParserTests.cs         (Testing logic of XML parsing)
        ├── JsonExpandedParserTests.cs
        └── MetadataParserFactoryTests.cs
B. DshEtlSearch.IntegrationTests
Focus: Database connectivity, File I/O, API endpoints, Docker Containers.

DshEtlSearch.IntegrationTests/
├── Infrastructure/
│   └── Repositories/
│       ├── SqliteMetadataRepositoryTests.cs  (Real SQLite in-memory)
│       └── QdrantVectorStoreTests.cs         (Real Docker Qdrant)
│
├── ExternalServices/
│   ├── ZipExtractionServiceTests.cs          (Real Zip file handling)
│   └── CehDatasetDownloaderTests.cs          (Real HTTP calls or WireMock)
│
└── Api/
    ├── SearchControllerTests.cs              (End-to-End API calls)
    └── Helpers/
        └── CustomWebApplicationFactory.cs    (Test Server Setup)
        
        
        
 
 
3. Updated Task 1.1 Implementation
Since you just split the projects, the Domain Tests from Task 1.1 must now be placed in the UnitTests project.
Where to put the Task 1.1 files:
    DatasetTests.cs -> DshEtlSearch.UnitTests/Core/Domain/
    MetadataRecordTests.cs -> DshEtlSearch.UnitTests/Core/Domain/
    ResultTests.cs -> DshEtlSearch.UnitTests/Core/Domain/
    
Running the tests now:
# Run only fast Unit Tests
dotnet test ./backend/DshEtlSearch.UnitTests/DshEtlSearch.UnitTests.csproj

# Run everything (later)
dotnet test ./backend/DshEtlSearch.sln
    
```