You are correct. The previous diagram collapsed the "Zip extraction" into the "CEH Connector," which hides a critical part of the requirement: the system must handle ZIP files that contain both metadata and supporting documents.

I have updated the Backend and Infrastructure layers to explicitly show the Zip Extraction Processor. This component is responsible for opening the archive, separating the metadata (for SQLite) from the supporting documents (for the Vector Store).

Revised High-Level System Architecture

```aiignore
+-----------------------------------------------------------------------+
|                            1. FRONTEND                                |
|                                                                       |
|   +---------------------+                                             |
|   |   Svelte Web App    |  (User Interface / Client Side)             |
|   |  (shadcn-ui/Vue)    |                                             |
|   +----------+----------+                                             |
+--------------|--------------------------------------------------------+
               |
               | HTTP / JSON Requests
               v
+--------------|--------------------------------------------------------+
|                            2. BACKEND                                 |
|                     (C# ASP.NET Core Solution)                        |
|                                                                       |
|    +-------------------------------------------------------------+    |
|    |  Layer A: Web API (Presentation)                            |    |
|    |  - Controllers (SearchController, ChatController)           |    |
|    +--------------------------+----------------------------------+    |
|                               | Uses                                  |
|                               v                                       |
|    +-------------------------------------------------------------+    |
|    |  Layer B: Application Core (Business Logic)                 |    |
|    |  - Services: EtlOrchestrator, SearchService                 |    |
|    |  - Interfaces: IRepository, IVectorStore, IFileExtractor    |    |
|    |  - Domain: Dataset, MetadataRecord, SupportingDoc           |    |
|    +--------------------------^----------------------------------+    |
|                               ^                                       |
|                               | Implements                            |
|    +--------------------------+----------------------------------+    |
|    |  Layer C: Infrastructure (Implementation)                   |    |
|    |                                                             |    |
|    |  [Data Access]               [File Processing]              |    |
|    |  - SQLite Repository         - Zip Extraction Processor     |    |
|    |  - Vector Store impl.        - XML/JSON Parsers             |    |
|    |                                                             |    |
|    |  [External Comms]                                           |    |
|    |  - CEH Http Client (WAF/Sitemap Downloader)                 |    |
|    +-------------------------------------------------------------+    |
+-------------------------------|---------------------------------------+
                                | Reads / Writes
                                v
+-------------------------------|---------------------------------------+
|                         3. DATA STORAGE                               |
|                                                                       |
|    +----------------+                  +----------------+             |
|    | SQLite DB File | <--------------> |  Vector Store  |             |
|    | (Relational +  |   (Shared IDs)   |  (Embeddings)  |             |
|    |  Raw Doc Blob) |                  |                |             |
|    +----------------+                  +----------------+             |
+-----------------------------------------------------------------------+
```


